# Hekaton (WIP)

> [T]he [Hecatoncheires](https://en.wikipedia.org/wiki/Hecatoncheires) were three monstrous giants, of enormous size and strength, each with fifty heads and one hundred arms

## Intro

> ℹ️ This project is a work in progress.  I plan on working on it on and off!

Hekaton is a CLI performance testing tool that uses scenarios defined in YAML.

After searching for easy to use, lightweight open source tools for performance testing, I found that most tools fell into two categories:

1. **Too basic**; focused on raw *load testing* and do not simulate real user flows
2. **Too complex**; designed for dedicated performance testing teams and difficult to adopt for small to medium sized teams

Hekaton is designed for the middle ground with a focus on simplicity (define test scenarios in a YAML file) while being more than just a simple load testing tool (model user journeys).

It is built around the concept of `Scenario`s  which represent the actions in a typical user journey through a system.  Rather than focusing on raw RPS, it's designed to allow teams to model real-world user journeys.

## Objectives

- Easy to model user journeys using simple YAML manifests
- Test definition stored as part of source control and executed remotely triggered from CI
- Support running multi-step test scenarios representing user journeys in parallel
- Support complex scenarios including performing authentication and processing of HTTP responses to extract parameters (headers, cookies)
- Concurrent processing of requests, responses, and results
- Pluggable output architecture to allow publishing results to console, S3, GitHub issue (as comment), etc.
- Support comparison of performance metrics over time to identify deviations
- Distributed processing of requests to simulate traffic from different origins

## Concepts

|Term|Definition|
|--|--|
|`Test`|A test defines a set of `Scenario`s that model user journeys|
|`Scenario`|A scenario encapsulates a series of steps to execute that represent actions that a user takes through a system.  For example, a scenario in e-commerce might be `browse landing page` → `add to cart` → `log in` → `checkout`|
|`Step`|Each `Scenario` is a collection of `Step`s which represent individual substantive HTTP requests that are generated by the user.  This does not include downloading static assets like images, JS files, CSS files, etc. (unless you want to!)|
|`VUser`|A virtual user represents one user performing the `Scenario`.|
|`Row`|`VUser`s can be generated dynamically or defined in an input CSV file (e.g. usernames, email, passwords, etc.)|
|`Pause`|Simulates how real users behave when interacting with the system.  Users will pause, read, scroll, and make decisions before acting.|

## Why Scenarios

In most applications, there are actions performed by multiple roles within the system.  These different roles perform different actions that have an effect on the performance profile of a system.

For example, a content management system (CMS) will have publishers creating new content and consumers reading the published content.  These users will operate on different frequencies.  Ideally, we can easily model the load where 10% of the users are performing a publish operation while 90% of the users are reading the published content to simulate our actual traffic distribution.

## Development

```shell
# Run tests from root
dotnet test

```